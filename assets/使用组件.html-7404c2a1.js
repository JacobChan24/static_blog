import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as i,a as n,b as s,d as t,f as p}from"./app-9e438faa.js";const l={},u=p(`<h5 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h5><ol><li>åœ¨componentsæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºç»„ä»¶æ–‡ä»¶å¤¹ï¼Œè·Ÿé¡µé¢ç›¸åŒåœ°åŒ…å«.js .wxml .wxsså’Œ.jsonçš„æ–‡ä»¶</li><li>åœ¨ç»„ä»¶jsonæ–‡ä»¶é‡Œé¢é…ç½®ï¼š<code>&#39;component&#39;: true</code></li><li>ç”¨componentæ„é€ å™¨ç¼–å†™ç»„ä»¶ï¼Œç¼–å†™ç»„ä»¶çš„æ ·å¼</li><li>åœ¨éœ€è¦å¼•å…¥ç»„ä»¶çš„é¡µé¢jsonæ–‡ä»¶ä¸‹é…ç½®\`\`\`</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>usingComponents&quot;<span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token string-property property">&quot;å®šä¹‰çš„ç»„ä»¶å&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ç»„ä»¶è·¯å¾„&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>åœ¨ç¼–å†™é¡µé¢ä¸­ä½¿ç”¨å®šä¹‰çš„ç»„ä»¶åæ ‡ç­¾ä½¿ç”¨ç»„ä»¶</li></ol><hr><p>å¾®ä¿¡å°ç¨‹åºæ–‡æ¡£ä¸­æä¾›çš„ç»„ä»¶æœ‰é™ï¼Œä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†å¼€å‘éœ€æ±‚ï¼Œè¿™é‡Œå°±éœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰ä¸€äº›æ§ä»¶ï¼Œå®ç°å¼€å‘éœ€æ±‚ã€‚è‡ªå®šä¹‰æ§ä»¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€‰æ‹©æ¨¡æ¿çš„æ–¹å¼ï¼Œå¦ä¸€ç§æ˜¯é€‰æ‹©ç»„ä»¶çš„æ–¹å¼æ¥åˆ›å»ºã€‚è¿™é‡Œæˆ‘é€‰æ‹©äº†ç»„ä»¶æ–¹å¼æ¥åˆ›å»ºï¼Œè¿™æ ·åªéœ€å¼•å…¥ç»„ä»¶å’Œå¤–éƒ¨æ·»åŠ æ•°æ®ï¼Œå†…éƒ¨å±•ç¤ºæ•°æ®ï¼Œå³å¯å®ç°é‡ç”¨ã€‚</p><figure><img src="//upload-images.jianshu.io/upload_images/1213330-da47b2ece0252c7c?imageMogr2/auto-orient/strip|imageView2/2/w/922/format/webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç›®å‰å¾®ä¿¡å°ç¨‹åºæä¾›çš„ç»„ä»¶</p><h5 id="_1ã€æ–‡ä»¶ç›®å½•ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1ã€æ–‡ä»¶ç›®å½•ç»“æ„" aria-hidden="true">#</a> 1ã€æ–‡ä»¶ç›®å½•ç»“æ„</h5><p>è¿™é‡Œä¸€å®šè¦æ³¨æ„æˆ‘ä»¬ç›®å½•ç»“æ„ï¼Œä¸ªäººå–œå¥½æŠŠé¡¹ç›®ä¸­çš„ä¸šåŠ¡æ–‡ä»¶æ”¾åœ¨pagesä¸­ï¼Œå›¾ç‰‡æ”¾åœ¨ä¸pagesåŒçº§çš„imagesæ–‡ä»¶ä¸­ï¼Œç¬¬ä¸‰æ–¹çš„sdkå­˜æ”¾åœ¨libsæ–‡ä»¶ä¸­ï¼Œå·¥å…·ç±»å­˜æ”¾åœ¨utilsæ–‡ä»¶ä¸­ï¼ŒåŒæ ·æŠŠå…±ç”¨çš„è‡ªå®šä¹‰ç»„ä»¶å­˜æ”¾åœ¨åŒçº§çš„componentæ–‡ä»¶ä¸­ã€‚è¿™æ ·ä¾¿äºç®¡ç†ï¼ŒæŸ¥æ‰¾ä½¿ç”¨ã€‚</p><figure><img src="//upload-images.jianshu.io/upload_images/1213330-bdf58437629d2c81?imageMogr2/auto-orient/strip|imageView2/2/w/376/format/webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç»„ä»¶æ–‡ä»¶</p><h5 id="_2ã€è‡ªå®šä¹‰ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_2ã€è‡ªå®šä¹‰ç»„ä»¶" aria-hidden="true">#</a> 2ã€è‡ªå®šä¹‰ç»„ä»¶</h5><p>å¾®ä¿¡å°ç¨‹åºä¸­æ²¡æœ‰selectä¸‹æ‹‰é€‰é¡¹æ¡†ï¼Œè¿™é‡Œé€‰æ‹©ç»„ä»¶çš„æ–¹å¼æ¥è‡ªå®šä¹‰åˆ›å»ºä¸€ä¸ªselectç»„ä»¶ã€‚</p><p>åœ¨componentæ–‡ä»¶ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªselectæ–‡ä»¶å¤¹ï¼Œéšåselectæ–‡ä»¶å¤¹ä¸‹æ‰‹åŠ¨åˆ›å»ºï¼šselect.jsã€select.jsonã€select.wxmlã€select.wxss å››ä¸ªæ–‡ä»¶ã€‚(<code>æ³¨æ„ï¼š</code> å¯ä»¥åœ¨selectæ–‡ä»¶å¤¹ä¸‹è‡ªåŠ¨åˆ›å»ºä¸Šé¢ğŸ‘†å››ä¸ªæ–‡ä»¶ï¼Œè‡ªåŠ¨åˆ›å»ºçš„æ–‡ä»¶ä¼šè‡ªåŠ¨é…ç½®å¥½ä»£ç ã€‚åªéœ€åœ¨å¼•å…¥ç»„ä»¶çš„æ—¶å€™ï¼Œåœ¨å¼•å…¥ç»„ä»¶çš„é¡µé¢çš„jsonæ–‡ä»¶ä¸­é…ç½®ç»„ä»¶çš„åç§°å’Œç»„ä»¶çš„ä½ç½®å³å¯ã€‚)</p><h6 id="_2-2ã€é…ç½®ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-2ã€é…ç½®ç»„ä»¶" aria-hidden="true">#</a> 2.2ã€é…ç½®ç»„ä»¶</h6><p>select.jsã€select.jsonã€select.wxmlã€select.wxssä¸Šé¢å››ä¸ªæ–‡ä»¶æ˜¯æ˜¯æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºçš„ï¼Œé‚£å°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨é…ç½®ä»£ç ã€‚åœ¨jsonæ–‡ä»¶ä¸­å†™å…¥ä»£ç ï¼š<code>&quot;component&quot;: true</code> è¡¨ç¤ºè‡ªå®šä¹‰ç»„ä»¶å£°æ˜ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;component&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åŒæ—¶ï¼Œjsæ–‡ä»¶ä¸­ä¹Ÿéœ€è¦å†™æˆè¿™ç§æ ¼å¼ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-tsx line-numbers-mode" data-ext="tsx"><pre class="language-tsx"><code><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/**
 1. ç»„ä»¶çš„å±æ€§åˆ—è¡¨
   */</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    selectArray<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token comment">// åˆå§‹æ—¶è¦å±•ç¤ºçš„å†…å®¹</span>
    currentText<span class="token operator">:</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span>String<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
 2. ç»„ä»¶çš„åˆå§‹æ•°æ®
   */</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    isShow<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// åˆå§‹optionä¸æ˜¾ç¤º</span>
    arrowAnimation<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// ç®­å¤´çš„åŠ¨ç”»</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
 3. ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨
   */</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//optionçš„æ˜¾ç¤ºä¸å¦</span>
    <span class="token function-variable function">selectToggleAction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è·å–å½“å‰optionæ˜¾ç¤ºçš„çŠ¶æ€</span>
      <span class="token keyword">var</span> nowShow <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>isShow<span class="token punctuation">;</span>
      <span class="token comment">// åˆ›å»ºåŠ¨ç”»</span>
      <span class="token keyword">var</span> animation <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createAnimation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        timingFunction<span class="token operator">:</span> <span class="token string">&quot;ease&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>animation <span class="token operator">=</span> animation<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nowShow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        animation<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          arrowAnimation<span class="token operator">:</span> animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        animation<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          arrowAnimation<span class="token operator">:</span> animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        isShow<span class="token operator">:</span> <span class="token operator">!</span>nowShow
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//è®¾ç½®å†…å®¹</span>
    <span class="token function-variable function">selectItemAction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å½“å‰optionçš„æ•°æ®æ˜¯å¼•å…¥ç»„ä»¶çš„é¡µé¢ä¼ è¿‡æ¥çš„ï¼Œæ‰€ä»¥è¿™é‡Œè·å–æ•°æ®åªæœ‰é€šè¿‡this.properties</span>
      <span class="token keyword">var</span> nowData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>selectArray<span class="token punctuation">;</span>
      <span class="token keyword">var</span> index <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>index<span class="token punctuation">;</span> <span class="token comment">// å½“å‰ç‚¹å‡»çš„ç´¢å¼•</span>
      <span class="token keyword">var</span> current_text <span class="token operator">=</span> nowData<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// å½“å‰ç‚¹å‡»çš„å†…å®¹</span>
      <span class="token keyword">var</span> current_type <span class="token operator">=</span> nowData<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">;</span> <span class="token comment">// å½“å‰ç‚¹å‡»çš„å†…å®¹</span>
      <span class="token comment">// å†æ¬¡æ‰§è¡ŒåŠ¨ç”»ï¼Œæ³¨æ„è¿™é‡Œä¸€å®šæ˜¯this.animationæ¥ä½¿ç”¨åŠ¨ç”»!!!!!!</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        isShow<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        current_text<span class="token operator">:</span> current_text<span class="token punctuation">,</span>
        arrowAnimation<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// å†…å®¹æ›´æ–°åï¼Œéœ€è¦æŠŠæ›´æ–°çš„æ•°æ®ä¼ è¾“å‡ºå»</span>
      <span class="token keyword">var</span> nowDate <span class="token operator">=</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> index<span class="token punctuation">,</span>
        name<span class="token operator">:</span> current_text<span class="token punctuation">,</span>
        type<span class="token operator">:</span> current_type
      <span class="token punctuation">}</span>
      <span class="token comment">// è¿™é‡Œçš„ getNowData è¦å’Œå¤–éƒ¨çš„ bind:getNowData ï¼Œåç§°ä¸€å®šè¦å¯¹åº”</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">&#39;getNowData&#39;</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;é€‰æ‹©ä¹‹åçš„current_text&quot;</span><span class="token punctuation">,</span> current_text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>Componentæ„é€ å™¨å¯ç”¨äºå®šä¹‰ç»„ä»¶ï¼Œè°ƒç”¨Componentæ„é€ å™¨æ—¶å¯ä»¥æŒ‡å®šç»„ä»¶çš„å±æ€§ã€æ•°æ®ã€æ–¹æ³•ç­‰ã€‚</li><li>propertiesæ˜¯ç»„ä»¶çš„å¯¹å¤–å±æ€§ï¼Œæ˜¯å±æ€§ååˆ°å±æ€§è®¾ç½®çš„æ˜ å°„è¡¨ï¼Œå±æ€§è®¾ç½®ä¸­å¯åŒ…å«ä¸‰ä¸ªå­—æ®µï¼Œ type è¡¨ç¤ºå±æ€§ç±»å‹ã€ value è¡¨ç¤ºå±æ€§åˆå§‹å€¼ã€ observer è¡¨ç¤ºå±æ€§å€¼è¢«æ›´æ”¹æ—¶çš„å“åº”å‡½æ•°ã€‚</li><li>data å’Œæ™®é€šé¡µé¢çš„dataä¸€æ ·ï¼Œæ˜¯ç»„ä»¶çš„å†…éƒ¨æ•°æ®ï¼Œå’Œ properties ä¸€åŒç”¨äºç»„ä»¶çš„æ¨¡ç‰ˆæ¸²æŸ“ã€‚</li><li>methodsç»„ä»¶çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬äº‹ä»¶å“åº”å‡½æ•°å’Œä»»æ„çš„è‡ªå®šä¹‰æ–¹æ³•ï¼Œå…³äºäº‹ä»¶å“åº”å‡½æ•°çš„ä½¿ç”¨ã€‚åœ¨è¿™é‡Œé¢è·å–æ•°æ®æœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€ç§æ˜¯è·å–dataé‡Œçš„æ•°æ®ï¼š this.data.å±æ€§åï¼›ä¸€ç§æ˜¯è·å– properties ä¸­çš„å±æ€§å€¼ï¼š this.properties.å±æ€§åã€‚</li></ol>`,21),r=n("code",null,"æ³¨æ„ï¼ï¼ï¼",-1),k=n("br",null,null,-1),d={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fframework%2Fcustom-component%2Fcomponent.html",target:"_blank",rel:"noopener noreferrer"},v=p(`<p><strong>åœ¨wxmlæ–‡ä»¶ä¸­ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</strong></p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>section-select-box<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>select-content<span class="token punctuation">&#39;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>selectToggleAction<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>select-text<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span>currentText<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>select-img<span class="token punctuation">&#39;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>../../images/icon_arrow_down.png<span class="token punctuation">&#39;</span></span> <span class="token attr-name">animation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{arrowAnimation}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>select-list<span class="token punctuation">&#39;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{isShow}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>select-list-item<span class="token punctuation">&#39;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{selectArray}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{index}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>{{index}}<span class="token punctuation">&#39;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>selectItemAction<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>animationæ–¹æ³•æ˜¯ä¸ºäº†è·å–å½“å‰ç‚¹å‡»å…ƒç´ çš„ç´¢å¼•ä¸å†…å®¹ã€‚è¿™é‡Œ <code>animation=&quot;{{arrowAnimation}}&quot;</code>æ˜¯ç®­å¤´è½¬åŠ¨çš„åŠ¨ç”»æ•ˆæœã€‚</li><li><code>bindtap=&#39;selectToggleAction&#39;</code> selectToggleAction æ–¹æ³•æ˜¯æ§åˆ¶ä¸‹æ‹‰é€‰é¡¹æ¡†éšè—å’Œæ˜¾ç¤ºçš„äº‹ä»¶ã€‚</li><li><code>bindtap=&#39;selectItemAction&#39;</code> selectItemAction æ˜¯ä¸‹æ‹‰é€‰é¡¹æ¡†é€‰æ‹©å­é¡¹ä¹‹åï¼Œè®¾ç½®å†…å®¹çš„äº‹ä»¶ã€‚</li><li><code>wx:if=&quot;{{isShow}}&quot;</code> isShowæ˜¯ä¸ºäº†æ§åˆ¶ option é€‰é¡¹æ˜¾ç¤ºä¸éšè—ã€‚</li></ol><p><strong>åœ¨wxssæ–‡ä»¶ä¸­ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</strong></p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.section-select-box</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 20rpx 30rpx<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 690rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.select-content</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 2rpx solid #e2e2e2<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 34rpx<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 80rpx<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 80rpx<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.select-text</span> <span class="token punctuation">{</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 32rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.select-img</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 60rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 60rpx<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all .3s ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.select-list</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 2rpx solid #e2e2e2<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
  <span class="token property">max-height</span><span class="token punctuation">:</span> 160rpx<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.select-list-item</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> 2rpx solid #e2e2e2<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.select-list-item:first-child</span><span class="token punctuation">{</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2-3ã€ä½¿ç”¨ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-3ã€ä½¿ç”¨ç»„ä»¶" aria-hidden="true">#</a> 2.3ã€ä½¿ç”¨ç»„ä»¶</h6><ol><li>ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶å‰ï¼Œéœ€è¦åœ¨å¼•å…¥ç»„ä»¶çš„é¡µé¢çš„jsonæ–‡ä»¶ä¸­é…ç½®ï¼Œæ¯”å¦‚æˆ‘è¦åœ¨ index.wxml ä¸­å¼•å…¥ï¼Œé‚£ä¹ˆåœ¨ index.json ä¸­æˆ‘å°±éœ€è¦é…ç½®ï¼š</li></ol><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Select&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/component/select/select&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>æ³¨æ„äº‹é¡¹:</code><br> Select æ˜¯ä½ å®šä¹‰çš„ç»„ä»¶çš„åç§°ï¼Œåé¢çš„æ˜¯ç»„ä»¶æ‰€åœ¨çš„ä½ç½®ã€‚ <code>/</code> å•æ–œæ è¡¨ç¤ºæ ¹ç›®å½•ï¼Œæ˜¯ç»å¯¹è·¯å¾„ã€‚</p><p>å¦‚æœæ§åˆ¶å°æŠ¥é”™ï¼Œå‡ºç°æ²¡æ‰¾åˆ°è·¯å¾„çš„æƒ…å†µï¼Œä¸€å®šæ˜¯è‡ªå·±å¡«å†™çš„è·¯å¾„ä¸å¯¹ï¼Œè®¤çœŸæ£€æŸ¥è·¯å¾„ä»£ç ã€‚</p><figure><img src="//upload-images.jianshu.io/upload_images/1213330-25d55780080c3225.png?imageMogr2/auto-orient/strip|imageView2/2/w/777/format/webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä½ å¯èƒ½å‡ºç°çš„æŠ¥é”™ï¼ï¼ï¼</p><p>é…ç½®å¥½åï¼Œåœ¨wxmlå¼•å…¥ç»„ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>  <span class="token operator">&lt;</span>Select <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;section-select&quot;</span> <span class="token keyword">select</span><span class="token operator">-</span>array<span class="token operator">=</span>&#39;<span class="token punctuation">{</span><span class="token punctuation">{</span>selectArray<span class="token punctuation">}</span><span class="token punctuation">}</span>&#39;  current<span class="token operator">-</span>text<span class="token operator">=</span><span class="token string">&quot;{{current_text}}&quot;</span> bind<span class="token punctuation">:</span>getNowData<span class="token operator">=</span>&#39;getCurrentTextAction&#39;<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Select<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>select-array æ˜¯æˆ‘åœ¨ç»„ä»¶ä¸­è‡ªå®šä¹‰çš„å±æ€§åï¼Œè¿™ä¸ªæ˜¯å’Œç»„ä»¶æ‰€åœ¨çš„ js ä¸­propertiesä¸­çš„å±æ€§æ˜¯å¯¹åº”çš„ã€‚åœ¨ properties å®šä¹‰çš„å±æ€§ä¸­ï¼Œå±æ€§åé‡‡ç”¨é©¼å³°å†™æ³•<code>ä¾‹å¦‚ï¼šselectArray</code>ã€‚åœ¨å¼•å…¥ç»„ä»¶çš„ wxml ä¸­ï¼ŒæŒ‡å®šå±æ€§å€¼æ—¶åˆ™å¯¹åº”ä½¿ç”¨è¿å­—ç¬¦å†™æ³•<code>ä¾‹å¦‚ï¼šselect-array=&#39;{{selectArray}}ï¼ŒselectArrayä¸ºselectç»„ä»¶ä¸­æ‰€éœ€å±•ç¤ºçš„æ•°æ®æº</code>ã€‚</li><li>è¿™é‡ŒgetNowDataæ˜¯è‡ªå®šä¹‰çš„å­ç»„ä»¶éœ€è¦è§¦å‘çš„äº‹ä»¶åï¼ŒgetNowDataæ˜¯å¼•å…¥ç»„ä»¶çš„é¡µé¢éœ€è¦è·å–ä¼ è¿‡æ¥çš„æ•°æ®çš„è‡ªå®šä¹‰çš„äº‹ä»¶åã€‚</li></ol><div class="language-tsx line-numbers-mode" data-ext="tsx"><pre class="language-tsx"><code>      <span class="token comment">// å†…å®¹æ›´æ–°åï¼Œéœ€è¦æŠŠæ›´æ–°çš„æ•°æ®ä¼ è¾“å‡ºå»</span>
      <span class="token keyword">var</span> nowDate <span class="token operator">=</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> index<span class="token punctuation">,</span>
        name<span class="token operator">:</span> current_text<span class="token punctuation">,</span>
        type<span class="token operator">:</span> current_type
      <span class="token punctuation">}</span>
      <span class="token comment">// è¿™é‡Œçš„ getNowData è¦å’Œå¤–éƒ¨çš„ bind:getNowData ï¼Œåç§°ä¸€å®šè¦å¯¹åº”</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">&#39;getNowData&#39;</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;é€‰æ‹©ä¹‹åçš„current_text&quot;</span><span class="token punctuation">,</span> current_text<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å¼•å…¥ç»„ä»¶çš„é¡µé¢çš„jsæ·»åŠ å¼•å…¥ç»„ä»¶æ—¶ï¼Œè‡ªå®šä¹‰çš„å‡½æ•°ï¼š</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code>  <span class="token function-variable function">getCurrentTextAction</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> item <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">current_text</span><span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span> 
      <span class="token literal-property property">current_type</span><span class="token operator">:</span> item<span class="token punctuation">.</span>type
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>console.log(&quot;æ‰“å°æ•°æ®&quot;,e.detail)ï¼Œä¼ è¿‡æ¥çš„å€¼å°±åœ¨detailé‡Œé¢ã€‚</p>`,19),m={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FCitrusHan%2FMyJobs_WeChat.git",target:"_blank",rel:"noopener noreferrer"};function b(g,x){const a=o("ExternalLinkIcon");return c(),i("div",null,[u,n("p",null,[r,k,s(" å¦‚æœè¿˜éœ€è¦å…¶ä»–å±æ€§ã€æ•°æ®ã€æ–¹æ³•ç­‰å¯æŸ¥çœ‹å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£ "),n("a",d,[s("Componentæ„é€ å™¨"),t(a)]),s("ã€‚")]),v,n("blockquote",null,[n("p",null,[s("å…·ä½“ä»£ç å®ç°ï¼Œç¨åæˆ‘ä¼šæ•´ç†ä¸Šä¼ åˆ°æˆ‘çš„GitHubï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„"),n("a",m,[s("GitHub"),t(a)]),s(" ä¸Šçš„ä»£ç ã€‚")])])])}const y=e(l,[["render",b],["__file","ä½¿ç”¨ç»„ä»¶.html.vue"]]);export{y as default};
